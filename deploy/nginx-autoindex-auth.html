<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>前言 | 河豚</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="XXX">
    
    <link rel="preload" href="/blog/assets/css/0.styles.fcd904e3.css" as="style"><link rel="preload" href="/blog/assets/js/app.f0df7f2e.js" as="script"><link rel="preload" href="/blog/assets/js/2.0c4bddf9.js" as="script"><link rel="preload" href="/blog/assets/js/1.50b457b8.js" as="script"><link rel="preload" href="/blog/assets/js/33.5e2146b5.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.325b9f09.js"><link rel="prefetch" href="/blog/assets/js/11.845e3692.js"><link rel="prefetch" href="/blog/assets/js/12.ecdb524b.js"><link rel="prefetch" href="/blog/assets/js/13.3f3f6a36.js"><link rel="prefetch" href="/blog/assets/js/14.eb7a3d07.js"><link rel="prefetch" href="/blog/assets/js/15.b60f3925.js"><link rel="prefetch" href="/blog/assets/js/16.85253907.js"><link rel="prefetch" href="/blog/assets/js/17.c2838453.js"><link rel="prefetch" href="/blog/assets/js/18.3256f17f.js"><link rel="prefetch" href="/blog/assets/js/19.d8afd0ae.js"><link rel="prefetch" href="/blog/assets/js/20.10e47ab9.js"><link rel="prefetch" href="/blog/assets/js/21.33b300c9.js"><link rel="prefetch" href="/blog/assets/js/22.2dbf0660.js"><link rel="prefetch" href="/blog/assets/js/23.0b19fb5d.js"><link rel="prefetch" href="/blog/assets/js/24.3826b0a6.js"><link rel="prefetch" href="/blog/assets/js/25.fa38cc5a.js"><link rel="prefetch" href="/blog/assets/js/26.d8946148.js"><link rel="prefetch" href="/blog/assets/js/27.cb829d15.js"><link rel="prefetch" href="/blog/assets/js/28.ed8bb5c5.js"><link rel="prefetch" href="/blog/assets/js/29.d8e41b50.js"><link rel="prefetch" href="/blog/assets/js/3.af33e5d6.js"><link rel="prefetch" href="/blog/assets/js/30.e01a3364.js"><link rel="prefetch" href="/blog/assets/js/31.7c6536dc.js"><link rel="prefetch" href="/blog/assets/js/32.f525454e.js"><link rel="prefetch" href="/blog/assets/js/34.cbc96651.js"><link rel="prefetch" href="/blog/assets/js/35.442b37c6.js"><link rel="prefetch" href="/blog/assets/js/36.d0f6e7e5.js"><link rel="prefetch" href="/blog/assets/js/37.c738e4ad.js"><link rel="prefetch" href="/blog/assets/js/38.d610966a.js"><link rel="prefetch" href="/blog/assets/js/39.b75541dc.js"><link rel="prefetch" href="/blog/assets/js/4.45665f8a.js"><link rel="prefetch" href="/blog/assets/js/40.746bbcd9.js"><link rel="prefetch" href="/blog/assets/js/41.bbff594c.js"><link rel="prefetch" href="/blog/assets/js/42.5c88a79e.js"><link rel="prefetch" href="/blog/assets/js/43.25c2e885.js"><link rel="prefetch" href="/blog/assets/js/44.01594bf5.js"><link rel="prefetch" href="/blog/assets/js/45.c92c0e59.js"><link rel="prefetch" href="/blog/assets/js/46.80f0728c.js"><link rel="prefetch" href="/blog/assets/js/47.81e82aa9.js"><link rel="prefetch" href="/blog/assets/js/48.15b88b85.js"><link rel="prefetch" href="/blog/assets/js/49.f4700a1b.js"><link rel="prefetch" href="/blog/assets/js/5.7098d77a.js"><link rel="prefetch" href="/blog/assets/js/6.0c0a0f39.js"><link rel="prefetch" href="/blog/assets/js/7.6a854e57.js"><link rel="prefetch" href="/blog/assets/js/vendors~docsearch.77260563.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.fcd904e3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">河豚</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="https://github.com/chendx97" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="https://github.com/chendx97" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/blog/html/零宽字符" class="sidebar-heading clickable"><span>html</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/html/零宽字符.html" class="sidebar-link">一个看起来只有2个字长度却有8的字符串引起的bug</a></li><li><a href="/blog/html/canvas-measureText.html" class="sidebar-link">canvas之measureText测量文本</a></li><li><a href="/blog/html/画板.html" class="sidebar-link">用canvas实现一个简单的画板</a></li><li><a href="/blog/html/刮刮乐.html" class="sidebar-link">刮刮乐效果原来如此简单</a></li><li><a href="/blog/html/is-caps-lock.html" class="sidebar-link">🔑输入密码时判断是否开启大写锁定</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/blog/css/tailwind-guide" class="sidebar-heading clickable"><span>css</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/css/tailwind-guide.html" class="sidebar-link">tailwind使用指南</a></li><li><a href="/blog/css/timer.html" class="sidebar-link">【翻译】如何实现一个纯CSS计时器</a></li><li><a href="/blog/css/svg-cursor.html" class="sidebar-link">给svg设置cursor不生效</a></li><li><a href="/blog/css/menu.html" class="sidebar-link">常见的hover菜单缝隙问题</a></li><li><a href="/blog/css/element-plus自动按需引入.html" class="sidebar-link">实现自动引入+按需引入element-plus原来如此简单</a></li><li><a href="/blog/css/css-var-func.html" class="sidebar-link">🎐CSS变量和CSS函数</a></li><li><a href="/blog/css/text-ellipsis.html" class="sidebar-link">🧐文本溢出+完整内容提示</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/blog/node/post-502" class="sidebar-heading clickable"><span>node</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/node/post-502.html" class="sidebar-link">为什么只这一个接口502呢？</a></li><li><a href="/blog/node/开发接口.html" class="sidebar-link">第一次开发node接口-干货总结</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/blog/deploy/nginx-autoindex-auth" class="sidebar-heading clickable open active"><span>deploy</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/deploy/nginx-autoindex-auth.html" aria-current="page" class="active sidebar-link">目录浏览&amp;权限校验</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/deploy/nginx-autoindex-auth.html#访问-时-根目录开启目录浏览" class="sidebar-link">访问 / 时，根目录开启目录浏览</a></li><li class="sidebar-sub-header"><a href="/blog/deploy/nginx-autoindex-auth.html#访问存在的path时-该子目录开启目录浏览" class="sidebar-link">访问存在的path时，该子目录开启目录浏览</a></li><li class="sidebar-sub-header"><a href="/blog/deploy/nginx-autoindex-auth.html#访问不存在的path时-某个子目录开启目录浏览功能" class="sidebar-link">访问不存在的path时，某个子目录开启目录浏览功能</a></li><li class="sidebar-sub-header"><a href="/blog/deploy/nginx-autoindex-auth.html#其他autoindex指令" class="sidebar-link">其他autoindex指令</a></li><li class="sidebar-sub-header"><a href="/blog/deploy/nginx-autoindex-auth.html#校验方法一-auth-basic-user-file" class="sidebar-link">校验方法一：auth_basic_user_file</a></li><li class="sidebar-sub-header"><a href="/blog/deploy/nginx-autoindex-auth.html#校验方法二-请求自己的登录接口" class="sidebar-link">校验方法二：请求自己的登录接口</a></li><li class="sidebar-sub-header"><a href="/blog/deploy/nginx-autoindex-auth.html#nginx变量" class="sidebar-link">nginx变量</a></li><li class="sidebar-sub-header"><a href="/blog/deploy/nginx-autoindex-auth.html#nginx-if语句" class="sidebar-link">nginx if语句</a></li><li class="sidebar-sub-header"><a href="/blog/deploy/nginx-autoindex-auth.html#重定向" class="sidebar-link">重定向</a></li><li class="sidebar-sub-header"><a href="/blog/deploy/nginx-autoindex-auth.html#nginx命令" class="sidebar-link">nginx命令</a></li><li class="sidebar-sub-header"><a href="/blog/deploy/nginx-autoindex-auth.html#location-a和location-a-的区别" class="sidebar-link">location /a和location /a/的区别</a></li><li class="sidebar-sub-header"><a href="/blog/deploy/nginx-autoindex-auth.html#刷新不生效" class="sidebar-link">刷新不生效</a></li><li class="sidebar-sub-header"><a href="/blog/deploy/nginx-autoindex-auth.html#配置本地域名映射" class="sidebar-link">配置本地域名映射</a></li></ul></li><li><a href="/blog/deploy/docker-tutorial.html" class="sidebar-link">Docker基础知识总结</a></li><li><a href="/blog/deploy/use-cicd-auto-deploy.html" class="sidebar-link">如何使用CICD实现自动化部署</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/blog/custom-utils/frame" class="sidebar-heading clickable"><span>自定义开发工具</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/custom-utils/frame.html" class="sidebar-link">实现自定义脚手架</a></li><li><a href="/blog/custom-utils/npm.html" class="sidebar-link">从0到1实现一个npm库</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/blog/git/lfs" class="sidebar-heading clickable"><span>git</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/git/lfs.html" class="sidebar-link">git LFS解决大文件上传</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/blog/source-code/fetch-event-source" class="sidebar-heading clickable"><span>源码</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/source-code/fetch-event-source.html" class="sidebar-link">我的第一篇源码阅读之fetch-event-source</a></li><li><a href="/blog/source-code/virtual-node.html" class="sidebar-link">【翻译】200行JS实现的虚拟DOM</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/blog/request/SSE" class="sidebar-heading clickable"><span>接口请求</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/request/SSE.html" class="sidebar-link">服务端主动推送消息Server-client events(SSE)</a></li><li><a href="/blog/request/如何判断接口是否在设定时间内返回.html" class="sidebar-link">如何判断接口是否在设定时间内返回</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/blog/npm/could-not-determine-executable-to-run" class="sidebar-heading clickable"><span>npm</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/npm/npm error--could not determine executable to run.html" class="sidebar-link">could not determine executable to run</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/blog/" class="sidebar-heading clickable router-link-active"><span>欢迎学习</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/" aria-current="page" class="sidebar-link">博客简介</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/handbook/1" class="sidebar-heading clickable"><span>基础篇</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="前言"><a href="#前言" class="header-anchor">#</a> 前言</h1> <p>需要实现的功能是，打开 http://a.b.c.d 可以访问服务器上的某个目录。而且，在第一次登录及登录过期时会进行登录，登录成功后才可以访问到目录。</p> <h1 id="开启目录浏览功能"><a href="#开启目录浏览功能" class="header-anchor">#</a> 开启目录浏览功能</h1> <p>使用 <strong>autoindex</strong> 指令可以开启目录浏览功能。<br>
不仅要设置autoindex，还必须要设置root或alias。</p> <h2 id="访问-时-根目录开启目录浏览"><a href="#访问-时-根目录开启目录浏览" class="header-anchor">#</a> 访问 / 时，根目录开启目录浏览</h2> <div class="language- extra-class"><pre class="language-text"><code>localtion / { 
    root /; 
    autoindex on; 
}
</code></pre></div><h2 id="访问存在的path时-该子目录开启目录浏览"><a href="#访问存在的path时-该子目录开启目录浏览" class="header-anchor">#</a> 访问存在的path时，该子目录开启目录浏览</h2> <div class="language- extra-class"><pre class="language-text"><code>location /a/ { 
    root /; 
    autoindex on; 
}
</code></pre></div><h2 id="访问不存在的path时-某个子目录开启目录浏览功能"><a href="#访问不存在的path时-某个子目录开启目录浏览功能" class="header-anchor">#</a> 访问不存在的path时，某个子目录开启目录浏览功能</h2> <div class="language-Nginx extra-class"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">location</span> /x/</span> <span class="token punctuation">{</span> 
    <span class="token directive"><span class="token keyword">alias</span> /b/</span><span class="token punctuation">;</span> <span class="token comment"># 注意 最后一个/是必需的 </span>
    <span class="token directive"><span class="token keyword">autoindex</span> <span class="token boolean">on</span></span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
</code></pre></div><h2 id="其他autoindex指令"><a href="#其他autoindex指令" class="header-anchor">#</a> 其他autoindex指令</h2> <ul><li><p><em>autoindex_exact_size</em> on | off;：控制是否显示文件的精确大小。默认为 on。</p></li> <li><p><em>autoindex_format html</em> | xml | json | jsonp;：指定目录列表的格式。默认为 html。</p></li> <li><p><em>autoindex_localtime</em> on | off;：控制是否显示文件的最后修改时间为本地时间。默认为 off。</p></li></ul> <h1 id="root和alias的区别"><a href="#root和alias的区别" class="header-anchor">#</a> root和alias的区别</h1> <p>相同点：都用于指定请求的文件在文件系统中的位置。</p> <p>不同点：</p> <p>第一，root 可以在 http、server 或 location 块中使用，alias 只能在 <strong>location</strong> 块中使用。</p> <p>第二，nginx将uri<strong>拼接</strong>在root指定的路径后面，但alias会<strong>替代</strong>指定的路径。</p> <p>举例如下：</p> <div class="language- extra-class"><pre class="language-text"><code>location /docs/ { 
    root /var/www/html; 
}
</code></pre></div><p>匹配到这条规则时，nginx查找的文件是 <em>/var/www/html/docs/index.html</em></p> <div class="language- extra-class"><pre class="language-text"><code>location /docs/ { 
    alias /var/www/html/; 
}
</code></pre></div><p>匹配到这条规则时，nginx查找的文件是 <em>/var/www/html/index.html</em></p> <h1 id="权限校验"><a href="#权限校验" class="header-anchor">#</a> 权限校验</h1> <h2 id="校验方法一-auth-basic-user-file"><a href="#校验方法一-auth-basic-user-file" class="header-anchor">#</a> 校验方法一：<strong>auth_basic_user_file</strong></h2> <p>将用户名密码保存在一个文件中，将文件路径添加到配置中。</p> <p>密码可以通过<a href="https://tool.oschina.net/htpasswd" target="_blank" rel="noopener noreferrer">tool-htpasswd<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>生成，windows上加密算法选md5，linux上选crypt。</p> <div class="language- extra-class"><pre class="language-text"><code>location / { 
    root /; 
    autoindex on; 
    auth_basic &quot;Authorized users only&quot;; 
    auth_basic_user_file /pwd/htpasswd; 
}
</code></pre></div><p>htpasswd生成的密码的前缀指示了加密方法。nginx会根据密码文件的内容自动识别加密方式。</p> <h2 id="校验方法二-请求自己的登录接口"><a href="#校验方法二-请求自己的登录接口" class="header-anchor">#</a> 校验方法二：请求自己的登录接口</h2> <p>具体思路：访问时判断是否有指定cookie，如果没有跳登录，如果有正常访问。登录接口需要能跳转回来。</p> <div class="language- extra-class"><pre class="language-text"><code>location / { 
    if ($cookie_my_cookie = '') { 
        return http://x.x.x.x/login?redirect_url=http://a.b.c.d; 
    } 
    root /; 
    autoindex on; 
}
</code></pre></div><p>如果接口不能把token注入到cookie中，而是放在了跳转回来的query参数里，则需要自己注入cookie并且把url里的query清空，如下所示。</p> <div class="language- extra-class"><pre class="language-text"><code>location / { 
    if ($cookie_my_cookie = '') { 
        return http://x.x.x.x/login?redirect_url=http://a.b.c.d/login; 
    } 
    root /; 
    autoindex on; 
} 
location /login/ { 
    add_header Set-Cookie &quot;my_cookie=$args&quot;; 
    rewrite ^/login(.*) /? permanent; # 注意 /后面的?是必需的 
}
</code></pre></div><h1 id="涉及的nginx知识点"><a href="#涉及的nginx知识点" class="header-anchor">#</a> 涉及的Nginx知识点</h1> <h2 id="nginx变量"><a href="#nginx变量" class="header-anchor">#</a> nginx变量</h2> <p><strong>$args</strong>：query参数；</p> <p><strong>$cookie_my_cookie</strong>：cookie中name为my_cookie的值；</p> <h2 id="nginx-if语句"><a href="#nginx-if语句" class="header-anchor">#</a> nginx if语句</h2> <p>只有if，没有else。</p> <div class="language- extra-class"><pre class="language-text"><code>if ($cookie_my_cookie = &quot;&quot;) { 
    # 如果cookie为空，执行下面的操作 
} 

if ($cookie_my_cookie ~* &quot;value&quot;) { 
    # 如果cookie包含value，执行下面的操作 
} 

if ($cookie_my_cookie !~* &quot;value&quot;) { 
    # 如果cookie不包含value，执行下面的操作 
}
</code></pre></div><h2 id="重定向"><a href="#重定向" class="header-anchor">#</a> 重定向</h2> <h3 id="return指令"><a href="#return指令" class="header-anchor">#</a> return指令</h3> <div class="language- extra-class"><pre class="language-text"><code>location /x/ { 
    return 301 http://localhost:8083/abc; 
}
</code></pre></div><p>如果访问/x?123，会跳转到/abc。</p> <p>return不仅可以返回一个url，也可以返回一句话或者一个json。</p> <p>第一个参数是<strong>状态码</strong>，第二个参数是可选的<strong>消息体</strong>。</p> <div class="language- extra-class"><pre class="language-text"><code>location / { 
    default_type text/html; 
    return 200 &quot;Hello, World!&quot;; 
} 

location / { 
    default_type application/json; 
    return 200 &quot;{a:1}&quot;; 
}
</code></pre></div><ul><li><p>text/plain：适用于返回的文本内容，默认值。</p></li> <li><p>text/html：适用于返回的HTML内容。</p></li> <li><p>application/json：适用于返回的JSON格式内容。</p></li> <li><p>application/xml：适用于返回的XML格式内容。</p></li> <li><p>application/octet-stream：适用于返回的二进制数据。</p></li></ul> <h3 id="rewrite指令"><a href="#rewrite指令" class="header-anchor">#</a> rewrite指令</h3> <div class="language- extra-class"><pre class="language-text"><code>location /x/ { 
    rewrite ^/x(.*) /y? permanent; 
}
</code></pre></div><p>如果不加?会保留原来的query参数，加?会不保留。</p> <h3 id="try-files指令"><a href="#try-files指令" class="header-anchor">#</a> try_files指令</h3> <div class="language- extra-class"><pre class="language-text"><code>location /x/ { 
    try_files $uri$uri/ /index.html; 
}
</code></pre></div><p>如果找不到，就返回index.html。</p> <p><em>$uri</em>：尝试匹配确切的请求路径。</p> <p><em>$uri/</em>：尝试匹配请求路径的目录版本。</p> <h1 id="其他"><a href="#其他" class="header-anchor">#</a> 其他</h1> <h2 id="nginx命令"><a href="#nginx命令" class="header-anchor">#</a> nginx命令</h2> <div class="language-bash extra-class"><pre class="language-bash"><code>start nginx <span class="token comment"># 启动 </span>
nginx <span class="token parameter variable">-s</span> reload <span class="token comment"># 刷新 </span>
nginx <span class="token parameter variable">-s</span> stop <span class="token comment"># 关闭 </span>
tasklist /fi <span class="token string">&quot;imagename eq nginx.exe&quot;</span> <span class="token comment"># 查看全部nginx进程 </span>
taskkill /pid pid /f <span class="token comment"># 关闭某个nginx进程 </span>
taskkill /f /im nginx.exe <span class="token comment"># 关闭所有nginx进程</span>
</code></pre></div><h2 id="location-a和location-a-的区别"><a href="#location-a和location-a-的区别" class="header-anchor">#</a> location /a和location /a/的区别</h2> <p>location /a匹配/a、/a/、/ab</p> <p>location /a/匹配/a/、/a/b</p> <h2 id="刷新不生效"><a href="#刷新不生效" class="header-anchor">#</a> 刷新不生效</h2> <div class="language- extra-class"><pre class="language-text"><code>sendfile off;
</code></pre></div><p>还可以查看nginx进程是否有很多个，如果是全部关闭再启动。</p> <h2 id="配置本地域名映射"><a href="#配置本地域名映射" class="header-anchor">#</a> 配置本地域名映射</h2> <p>找到<strong>hosts</strong>文件，在C:\Windows\System32\drivers\etc下。</p> <div class="language- extra-class"><pre class="language-text"><code>localhost my.com
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/node/开发接口.html" class="prev">
        第一次开发node接口-干货总结
      </a></span> <span class="next"><a href="/blog/deploy/docker-tutorial.html">
        Docker基础知识总结
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.f0df7f2e.js" defer></script><script src="/blog/assets/js/2.0c4bddf9.js" defer></script><script src="/blog/assets/js/1.50b457b8.js" defer></script><script src="/blog/assets/js/33.5e2146b5.js" defer></script>
  </body>
</html>
